from OQA.utils import utils, jsonHelper


def parse_param(param, json=None, context=None):
    data = None
    try:
        if param.startswith("##"):  # prefix for Dict key
            data= utils.getDictionary(param[2:])
        elif param.startswith("$$"):  # prefix for json Key
            if json == None:
                data = None
                print("Json not found.")
            else:
                data = jsonHelper.read_json_data(param[2:], json)
        elif param.startswith("!!"):  # prefix for context Key
            data = getattr(context, param[2:], None)
            print(data)
        else:
            data = param

    except Exception as e:
        print(e)
        
    return data


def parse_path(path):
    _path=None
    try:
        if path.startswith("##"):  # prefix for temp dir
            _path=utils.get_temp_folder()
        elif path.startswith("$$"):  # prefix for data dir
            _path=utils.get_data_folder()
        elif path.startswith("**"): #prefix for sensitive folder
            _path=utils.get_sensitive_data_folder()
        else: 
            _path=utils.get_abs_path(path)
    except Exception as e:
        print(e)
        
    return _path
